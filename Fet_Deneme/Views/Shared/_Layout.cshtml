<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - Fet_Deneme</title>    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/dropdown.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/sweetalert-custom.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/Fet_Deneme.styles.css" asp-append-version="true" />
    <link href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css" rel="stylesheet" /><style>
        body { background: #f3f3f3; }
        .navbar-brand { font-weight: 600; }
        .navbar-light .navbar-nav .nav-link { color: #000; }
        .navbar-light .navbar-nav .nav-link:hover { color: #333; }
        .dropdown-item { color: #000; }
        .dropdown-item:hover { color: #333; background-color: #f8f9fa; }
    </style>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom shadow-sm" style="height: 48px;">
            <div class="container-fluid">
                <a class="navbar-brand" href="#">FET</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#fetNavbar" aria-controls="fetNavbar" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="fetNavbar">
                    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="fetDosyaDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Dosya</a>
                            <ul class="dropdown-menu" aria-labelledby="fetDosyaDropdown">
                                <li><a class="dropdown-item" href="#" onclick="fetNewProject()">Yeni</a></li>
                                <li><a class="dropdown-item" href="#" onclick="fetOpenProject()">Aç</a></li>
                                <li><a class="dropdown-item" href="#" onclick="document.getElementById('fet-btn-save').click()">Kaydet</a></li>
                                <li><a class="dropdown-item" href="#" onclick="document.getElementById('fet-btn-saveas').click()">Farklı Kaydet</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li class="dropdown-submenu dropend">
                                    <a class="dropdown-item dropdown-toggle" href="#" id="fetAlDropdown" data-bs-toggle="dropdown" aria-expanded="false">Al</a>
                                    <ul class="dropdown-menu" aria-labelledby="fetAlDropdown">
                                        <li><a class="dropdown-item" href="#" onclick="window.fetImportSubjectsCsv()">Ders adlarını CSV dosyasından al</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="window.fetImportTeachersCsv()">Öğretmen adlarını CSV dosyasından al</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="window.fetImportStudentsCsv()">Öğrenci (Yıl/Grup/Altgrup) adlarını CSV dosyasından al</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="window.fetImportActivitiesCsv()">Etkinlikleri (Activities) CSV dosyasından al</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="window.fetImportMultipleCsv()">Çoklu İçe Aktar</a></li>
                                    </ul>
                                </li>
                                <li class="dropdown-submenu dropend">
                                    <a class="dropdown-item dropdown-toggle" href="#" id="fetVerDropdown" data-bs-toggle="dropdown" aria-expanded="false">Ver</a>
                                    <ul class="dropdown-menu" aria-labelledby="fetVerDropdown">
                                        <li><a class="dropdown-item" href="#" onclick="Swal.fire('Export','Export fonksiyonu eklenecek','info')">Dersleri CSV olarak ver</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="Swal.fire('Export','Export fonksiyonu eklenecek','info')">Öğretmenleri CSV olarak ver</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="Swal.fire('Export','Export fonksiyonu eklenecek','info')">Öğrencileri CSV olarak ver</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="Swal.fire('Export','Export fonksiyonu eklenecek','info')">Etkinlikleri CSV olarak ver</a></li>
                                    </ul>
                                </li>
                                <li><hr class="dropdown-divider"></li>
                                <li class="dropdown-item text-danger" href="#" onclick="window.close()">Çıkış</li>
                            </ul>
                        </li>                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="fetVeriDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">Veri</a>
                            <ul class="dropdown-menu" aria-labelledby="fetVeriDropdown">
                                <li><a class="dropdown-item" href="#" onclick="window.fetShowData('subjects')">Ders Adları</a></li>
                                <li><a class="dropdown-item" href="#" onclick="window.fetShowData('teachers')">Öğretmenler</a></li>
                                <li><a class="dropdown-item" href="#" onclick="window.fetShowData('students')">Öğrenciler</a></li>
                                <li><a class="dropdown-item" href="#" onclick="window.fetShowData('activities')">Etkinlikler</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li class="dropdown-submenu dropend">
                                    <a class="dropdown-item dropdown-toggle" href="#" id="fetGunSaatDropdown" data-bs-toggle="dropdown" aria-expanded="false">Gün/Saat</a>
                                    <ul class="dropdown-menu" aria-labelledby="fetGunSaatDropdown">
                                        <li><a class="dropdown-item" href="#" onclick="window.fetShowDaysHours()">Gün/Saat Yönetimi</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="window.fetShowDays()">Gün</a></li>
                                        <li><a class="dropdown-item" href="#" onclick="window.fetShowHours()">Saat</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="#">İstatistikler</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Gelişmiş</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Ders Programı</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Ayarlar</a></li>
                        <li class="nav-item"><a class="nav-link" href="#">Yardım</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    </header>
    <div class="fet-content-nopad">
        <main role="main">
            @RenderBody()
        </main>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)
    <script>    document.addEventListener('DOMContentLoaded', function() {
        // Dosya menüsü dropdown
        var dosyaMenu = document.getElementById('fetDosyaDropdown');
        var dosyaDropdown = document.getElementById('fet-dosya-dropdown');
        if (dosyaMenu && dosyaDropdown) {
            dosyaMenu.onclick = function(e) {
                e.stopPropagation();
                dosyaDropdown.style.display = dosyaDropdown.style.display === 'block' ? 'none' : 'block';
            };
            document.body.addEventListener('click', function() {
                dosyaDropdown.style.display = 'none';
            });
        }        // Bootstrap 5'te dropdown submenu CSS ile hallediliyor
        // dropdown.css dosyasındaki CSS kuralları kullanılıyor
        // Mobil görünümde tıklama davranışı için ek bir kod ekliyoruz
        if (window.innerWidth < 992) { // Mobil modda
            var dropdownItems = document.querySelectorAll('.dropdown-submenu > .dropdown-item');
            dropdownItems.forEach(function(item) {
                item.addEventListener('click', function(e) {
                    if (!this.nextElementSibling.classList.contains('show')) {
                        e.preventDefault();
                        e.stopPropagation();
                        
                        // Diğer açık alt menüleri kapat
                        var openMenus = document.querySelectorAll('.dropdown-submenu > .dropdown-menu.show');
                        openMenus.forEach(function(menu) {
                            menu.classList.remove('show');
                        });
                        
                        // Bu alt menüyü aç
                        this.nextElementSibling.classList.toggle('show');
                    }
                });
            });
        }
    });
    </script>
</body>
</html>
